<pre>
<span class="comment">###############################################</span>
<span class="comment"># FILE: dates</span>
<span class="comment"># SUBJ: comment</span>
<span class="comment"># AUTH: David de Hilster</span>
<span class="comment"># CREATED: 2024-5-31 21:28:10</span>
<span class="comment"># MODIFIED:</span>
<span class="comment">###############################################</span>

<span class="region">@NODES</span>&nbsp;<span class="concept">_LINE</span>

<span class="comment">###############################################</span>
<span class="comment"># Fri, 12 Dec 2014</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<1,1>&nbsp;<span class="function">var</span>(<span class="string">"day"</span>);
<3,3>&nbsp;<span class="function">var</span>(<span class="string">"day"</span>);
<4,4>&nbsp;<span class="function">var</span>(<span class="string">"month"</span>);
<5,5>&nbsp;<span class="function">var</span>(<span class="string">"year"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"weekday"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"day"</span>,1);
<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,3));
<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"month"</span>,4);
<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,5));
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;\,&nbsp;[<span class="attr">opt</span>]&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (4)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (5)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># 19th day of May, 2015</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<4,4>&nbsp;<span class="function">var</span>(<span class="string">"month"</span>);
<6,6>&nbsp;<span class="function">var</span>(<span class="string">"year"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"num"</span>,1);
<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"month"</span>,4);
<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,6));
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="concept">_ordinal</span>&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;day&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (4)</span>
&nbsp;&nbsp;\,&nbsp;[<span class="attr">opt</span>]&nbsp;&nbsp;<span class="comment">### (5)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (6)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># 2/4/2005</span>
<span class="comment">###############################################</span>

<span class="region">@POST</span>
<span class="variable">L</span>(<span class="string">"one"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,1));
<span class="variable">L</span>(<span class="string">"two"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,3));
<span class="variable">L</span>(<span class="string">"three"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,5));

<span class="keyword">if</span>&nbsp;(<span class="variable">L</span>(<span class="string">"one"</span>)&nbsp;>&nbsp;99)&nbsp;{
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"one"</span>);
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"two"</span>);
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"three"</span>);
}&nbsp;<span class="keyword">else</span>&nbsp;{
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"one"</span>);
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"two"</span>);
&nbsp;&nbsp;<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="variable">L</span>(<span class="string">"three"</span>);
}
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;<span class="constant">_xWILD</span>&nbsp;[<span class="attr">match</span>=(\/&nbsp;\'&nbsp;\-&nbsp;\.)]&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;<span class="constant">_xWILD</span>&nbsp;[<span class="attr">match</span>=(\/&nbsp;\'&nbsp;\-&nbsp;\.)]&nbsp;&nbsp;<span class="comment">### (4)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (5)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># 31 Oct 2021</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<1,1>&nbsp;<span class="function">var</span>(<span class="string">"day"</span>);
<2,2>&nbsp;<span class="function">var</span>(<span class="string">"month"</span>);
<3,3>&nbsp;<span class="function">var</span>(<span class="string">"year"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,1));
<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"month"</span>,2);
<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,3));
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># December 10, 2014</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<1,1>&nbsp;<span class="function">var</span>(<span class="string">"month"</span>);
<3,3>&nbsp;<span class="function">var</span>(<span class="string">"day"</span>);
<5,5>&nbsp;<span class="function">var</span>(<span class="string">"year"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"month"</span>,1);
<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,3));
<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,5));
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;\.&nbsp;[<span class="attr">opt</span>]&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;\,&nbsp;[<span class="attr">opt</span>]&nbsp;&nbsp;<span class="comment">### (4)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (5)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># july 3rd 2013</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<1,1>&nbsp;<span class="function">var</span>(<span class="string">"month"</span>);
<4,4>&nbsp;<span class="function">var</span>(<span class="string">"year"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"month"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"month"</span>,1);
<span class="variable">S</span>(<span class="string">"day"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"num"</span>,2);
<span class="variable">S</span>(<span class="string">"year"</span>)&nbsp;=&nbsp;<span class="function">num</span>(<span class="variable">N</span>(<span class="string">"$text"</span>,4));
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;<span class="concept">_ordinal</span>&nbsp;&nbsp;<span class="comment">### (2)</span>
&nbsp;&nbsp;\,&nbsp;[<span class="attr">opt</span>]&nbsp;&nbsp;<span class="comment">### (3)</span>
&nbsp;&nbsp;<span class="constant">_xNUM</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (4)</span>
&nbsp;&nbsp;<span class="region">@@</span>

<span class="comment">###############################################</span>
<span class="comment"># Friday</span>
<span class="comment">###############################################</span>

<span class="region">@PRE</span>
<1,1>&nbsp;<span class="function">var</span>(<span class="string">"day"</span>);

<span class="region">@POST</span>
<span class="variable">S</span>(<span class="string">"weekday"</span>)&nbsp;=&nbsp;<span class="variable">N</span>(<span class="string">"day"</span>,1);
<span class="function">single</span>();

<span class="region">@RULES</span>
<span class="concept">_date</span>&nbsp;<-
&nbsp;&nbsp;<span class="constant">_xALPHA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">### (1)</span>
&nbsp;&nbsp;<span class="region">@@</span>
</pre>
